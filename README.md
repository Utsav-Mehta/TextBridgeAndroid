# TextBridge Android

This is the android application module of the project TextBridge. It features document scanning with OCR and a screen assistant overlay that allows users to ask questions about their current screen content.

## Features

*   **Document Scanning & Q&A**:
    *   Scan documents using the camera or import from the gallery.
    *   Extract text using ML Kit's on-device OCR.
    *   Ask questions about the scanned document using voice commands.
    *   Receive spoken answers generated by Gemini.

*   **Screen Assistant Overlay**:
    *   Floating overlay button that works over other apps.
    *   One-tap screen capture and voice query.
    *   Analyzes the current screen content using Gemini 2.0 Flash.
    *   Provides audio feedback with the answer.

## Project Structure

The project is a standard Android application built with Java and Gradle.

### Key Files & Directories

*   **`app/src/main/java/com/example/textassist/`**: Contains the main Java source code.
    *   **`MainActivity.java`**: The entry point of the application. It handles:
        *   UI initialization.
        *   Permission requests (Camera, Microphone, Overlay).
        *   Integration with ML Kit for document scanning and text recognition.
        *   Basic interaction with the Gemini API for text-based queries.
    *   **`ScreenAssistService.java`**: A foreground service that powers the screen assistant features. It handles:
        *   Creating and managing the floating overlay button.
        *   Screen capture using `MediaProjection` and `ImageReader`.
        *   Speech recognition for user queries.
        *   Sending screen images and prompts to Gemini for analysis.
        *   Text-to-Speech (TTS) output.

*   **`app/src/main/AndroidManifest.xml`**: Declares the app components, permissions (Internet, Record Audio, System Alert Window, etc.), and service definitions.

*   **`app/build.gradle`**: Defines project dependencies, including:
    *   `com.google.ai.client.generativeai`: Google AI SDK for Android (Gemini).
    *   `com.google.android.gms:play-services-mlkit-text-recognition`: ML Kit Text Recognition.
    *   `com.google.android.gms:play-services-mlkit-document-scanner`: ML Kit Document Scanner.

## Setup & Configuration

1.  **API Key**: The application requires a valid Gemini API key.
    *   Open `MainActivity.java` and `ScreenAssistService.java`.
    *   Replace `"USE_YOUR_GEMINI_API_KEY"` with your actual API key.

2.  **Permissions**:
    *   The app will request permissions for Microphone, Camera, and "Display over other apps" at runtime.
    *   Screen recording permission is requested when activating the screen assistant.

## Requirements

*   Android SDK 31 or higher (target).
*   Internet connection for Gemini API calls.
*   Android Studion HedgeHog
